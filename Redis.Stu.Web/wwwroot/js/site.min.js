(function(){["String","Object","Number","Boolean","Array","Date","Null","Undefined"].forEach(function(n){$["is"+n]||($["is"+n]=function(t){return Object.prototype.toString.call(t)==="[object "+n+"]"})});String.prototype.format=function(n){var i=this,r,t,u;if(arguments.length>0)if(arguments.length==1&&typeof n=="object")for(r in n)n[r]!=undefined&&(u=new RegExp("({"+r+"})","g"),i=i.replace(u,n[r]));else for(t=0;t<arguments.length;t++)arguments[t]!=undefined&&(u=new RegExp("({)"+t+"(})","g"),i=i.replace(u,arguments[t]));return i};Date.prototype.format=function(n){var i={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()},t;/(y+)/.test(n)&&(n=n.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(t in i)new RegExp("("+t+")").test(n)&&(n=n.replace(RegExp.$1,RegExp.$1.length==1?i[t]:("00"+i[t]).substr((""+i[t]).length)));return n};window.HTMLEncode=function(n){var t=document.createElement("div"),i;return t.textContent!=null?t.textContent=n:t.innerText=n,i=t.innerHTML,t=null,i};window.HTMLDecode=function(n){var t=document.createElement("div"),i;return t.innerHTML=n,i=t.innerText||t.textContent,t=null,i};Array.prototype.first=function(n){for(var t=0,i=this.length;t<i;t++)if(n.call(this[t],this[t])===!0)return this[t];return null};Array.prototype.remove=function(n){for(var t=0,i=this.length;t<i;){if(this[t]===n)break;t++}return this.splice(t,1),this};Array.prototype.select=function(n){var t=[];return this.forEach(function(i){t.push(n(i))}),t};Vue&&Vue.filter("currency",function(n,t){var r,f,u,i;for(t=t>0&&t<=20?t:2,n=parseFloat((n+"").replace(/[^\d\.-]/g,"")).toFixed(t)+"",r=n.split(".")[0].split("").reverse(),f=n.split(".")[1],u="",i=0;i<r.length;i++)u+=r[i]+((i+1)%3==0&&i+1!==r.length?",":"");return u.split("").reverse().join("")+"."+f})})(),function(n){var t={$loading:null};n.extend({loading:function(){t.$loading=n('<div class="loading-container">                            <div class="loading">                                <span><\/span>                                <span><\/span>                                <span><\/span>                                <span><\/span>                                <span><\/span>                                <span><\/span>                                <span><\/span>                                <span><\/span>                                <label>正在加载，请稍等...<\/label>                            <\/div>                            <div class="loading-shadow"><\/div>                        <\/div> ');n(document.body).append(t.$loading);n.loading=function(){t.$loading.show()};n.loading()},loaded:function(){t.$loading&&t.$loading.hide()},view:function(){var i='<div class="modal fade" id="{name}" aria-hidden="true">                <div class="modal-dialog" >                    <div class="modal-content">                        <div class="modal-header">                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;<\/button>                            <h5 class="modal-title">{title}<\/h5>                        <\/div>                        <div class="modal-body">{body}<\/div>                        <div class="modal-footer" style="display: {footDisplay}">                            <button type="button" class="btn btn-default" data-dismiss="modal">{closeText}<\/button>                            <button type="button" class="btn btn-primary btn-save">{saveText}<\/button>                        <\/div>                    <\/div>                <\/div >            <\/div >',r=n(document.body),t=function(t){var f=i.format(t),u=n(f).appendTo(r);u.modal({backdrop:"static"});u.on("hidden.bs.modal",function(){u.remove()});if(t.submit)u.on("click",".btn-save",function(n){var i=t.submit.call(this,n,u);i&&u.modal("hide")});return t.load&&t.load.call(u),u};return n.view=function(i,r,u,f){var e={title:r,url:u,template:f,footDisplay:"none",closeText:"关闭",saveText:"保存"};return(arguments.length===1&&n.extend(e,arguments[0]),e.name=e.name||"view_jquery",e.template)?(e.body=e.template,t(e)):(n.get(e.url,null,function(n){e.body=n;t(e)}),null)},n.view.apply(this,arguments)},confirm:function(){var t='<div class="modal fade modal-alert" aria-hidden="true">                <div class="modal-dialog" style="margin-top: 200px;width: 400px;">                    <div class="modal-content">                        <div class="modal-header {alertColor}">                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;<\/button>                            <h5 class="modal-title {titleColor}">{pic}{title}<\/h5>                        <\/div>                        <div class="modal-body">{msg}<\/div>                        <div class="modal-footer">                            <button type="button" class="btn btn-default" data-dismiss="modal">关闭<\/button>                            <button type="button" class="btn {submitStyle} {submitDisplay}">{submitText}<\/button>                        <\/div>                    <\/div>                <\/div >            <\/div >',i=n(document.body);return n.confirm=function(r,u,f,e,o,s,h,c,l){var a=[].slice.call(arguments,1),v,y;v=n.isObject(a)?n.extend({},{title:a.title||"提示",titleColor:a.titleColor||"text-primary",submitDisplay:a.submit?"":"hide",alertColor:a.alertColor||"",submitStyle:a.submitStyle||"btn-primary",pic:"<i class='fa "+(a.pic||"fa-question-circle-o")+"'><\/i>",submitText:a.submitText||"确定"}):{title:r,msg:u,titleColor:l||"text-primary",submitDisplay:f?"":"hide",alertColor:s||"",submitStyle:h||"btn-primary",pic:"<i class='fa "+(o||"fa-question-circle-o")+"'><\/i> ",submitText:c||"确定"};y=t.format(v);$modal=n(y).appendTo(i);$modal.modal({backdrop:"static"});$modal.on("hidden.bs.modal",function(){e&&e.call($modal);$modal.remove()});return f&&$modal.find(".btn-primary").click(function(){var n=f.call($modal);n&&$modal.modal("hide")}),$modal},n.confirm.apply(this,arguments)},warning:function(t,i,r){return n.confirm("警告",t,i,r,"fa-warning text-warning","bg-warning","btn-warning",null,"text-warning")},info:function(t,i,r){return n.confirm("提示",t,i,r,"fa-info-circle text-info","bg-info","btn-info",null,"text-info")},danger:function(t,i,r){return n.confirm("错误",t,i,r,"fa-times-circle text-danger","bg-danger","btn-danger",null,"text-danger")},success:function(t,i,r){return n.confirm("提示",t,i,r,"fa-check-circle text-success","bg-success","btn-success",null,"text-success")},primary:function(t,i,r){return n.confirm("提示",t,i,r,"fa-check-circle text-primary","bg-primary","btn-primary",null,"text-primary")},alert:function(t,i){var r;i=i||"error";r="fa-times";switch(i){case"success":r="fa-check";break;case"error":r="fa-times";break;case"warning":r="fa-warning"}var f={status:i,title:t||"未处理异常",icon:r},u=n('<div class="alert-status alert-{status}">                            <div>                                <span class="icon">                                    <i class="fa {icon}"><\/i>                                <\/span>                                <span title="{title}" class="content">                                    {title}\t\t                        <\/span>\t                        <\/div >                        <\/div >'.format(f)),e=n(document.body);e.append(u);setTimeout(()=>{u.css("opacity",0),setTimeout(()=>u.remove(),500)},5e3)},browser:{versions:function(){var n=navigator.userAgent;return{trident:n.indexOf("Trident")>-1,presto:n.indexOf("Presto")>-1,webKit:n.indexOf("AppleWebKit")>-1,gecko:n.indexOf("Gecko")>-1&&n.indexOf("KHTML")===-1,mobile:!!n.match(/AppleWebKit.*Mobile.*/),ios:!!n.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:n.indexOf("Android")>-1||n.indexOf("Linux")>-1||n.indexOf("Adr")>-1,iPhone:n.indexOf("iPhone")>-1,iPad:n.indexOf("iPad")>-1,webApp:n.indexOf("Safari")===-1,weixin:n.indexOf("MicroMessenger")>-1,qq:n.indexOf(" QQ")>-1}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()},dateOptions:{format:"yyyy-mm-dd",autoclose:!0,maxView:1,minView:2,todayBtn:!0,todayHighlight:!0,language:"zh-CN"}})}(jQuery);